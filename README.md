# VSAssistant

类名|描述|功能
:---:|:---:|:---:
Args|命令行参数处理类|处理输入的命令行参数
File|文件类| 处理`.cpp/.c`文件以及配置文件复制、移动、读写
utils|通用函数|全部为静态公共函数
Project|工程类|将`.c/.cpp/.h`文件包含进工程
Solution|解决方案类|将工程包含进解决方案



# 题目

- 需求：
搜索某个目标目录下的所有子目录中的cpp文件，为每个子目录建立一个Visual Studio解决方案，为每个cpp文件建立一个Visual Studio项目，并把该项目加入到该解决方案中。

- 需求分析及分解：

    1. 能搜索到目标目录中的所有子目录，子目录中不包括`.`和 `..`这两个目录；

    2. 在子目录中，以子目录名为文件名，`sln`为扩展名，建立解决方案文件，如子目录为`ch1`，那么解决方案文件名为`ch1.sln`；

    3. `sln`文件参照某样本解决方案文件生成，该解决方案的“属性->通用属性->启动项目”已选中为“当前选定内容”；

    4. 在子目录中，搜索所有的`.cpp`文件和`.c`文件，对每一个具有`main`函数的源代码文件（如`ch1-1.cpp`），以该文件不带扩展名的文件名（如`ch1-1`，以下称为文件简名），在其所在目录中建立一个子目录，该目录为工程目录；

    6. 在工程目录中，建立三个工程文件，分别为：文件简名+`.vcxproj`、文件简名+`.vcxproj.filters`、文件简名+`.vcxproj.user`；

    7. 该工程的“属性->配置属性->C/C++->所有选项->安全检查”已选择为“禁用安全检查”，以使`strcpy`等函数可以通过编译；该项目的“属性->配置属性->C++->语言->符合模式”已选择为“否”，以使得将常量传递给非constant变量时编译可以通过。这两项修改应该在相关的样例工程中配置好，使用配置好之后的工程文件为模板；

    8. 若某工程包含多个源代码文件，如工程`ch19_15`需要包含三个源代码文件：`ch19_15.cpp`、`student.cpp`、`master.cpp`，需要在工程中完整包括；

    9. 对不支持VS/DevC++的源代码文件中的语句进行修改：
        ```c++
        A)
            #include <iostream.h>
            改为
            #include <iostream>
            using namespace std;
        B)
            iomanip.h改为iomanip
        C)
            strstream.h改为sstream
            将istrstream改为istringstream
            将ostrstream改为ostringstream
        D)
            void main(改为int main(
        E)
            其它的错误若出现也需要进行相应修改, 以适应在新的环境下的编译.
        ```

    10. 程序可以通过命令行参数传入目标目录，如“VSAssitant D:\class\C++\textbook\第19章”，表示对“D:\class\C++\textbook\第19章”目录中的代码进行处理；

    11. 除main函数中的少量代码外，其它代码均需封装在类中。

- 本作业每位同学均需在三周内单独提交，截止时间6月24日，评分按实现的功能数量及代码质量来计算。
